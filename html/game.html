<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Game</title>
        <link rel="stylesheet" type="text/css" href="../lib/style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="../lib/scripts/urlParameter.js"></script>
        <script src="../lib/scripts/header.js"></script>
    </head>
    <body>

        <header id="header">

        </header>



        <main class="center">

            <h1 style="text-algin:center" id="name">  </h1>

            <table id="cover_edition">
                <tr>
                    <td style="text-align:left;" colspan="1" rowspan="2" id="produktBild">

                    </td>
                    <td style="width:15%;">
                        <span style="color: yellow; font-size: 50px">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
                    </td>
                </tr>

                <tr>
                    <td id="blurb"> <p id="klappentext">  </p> </td>
                </tr>
                <tr>
                    <td>
                        <form id="drop_down_game_editions">
                            <label> Editionen </label>
                            <label>
                                <select>
                                    <option value="Standard"> Standard
                                    </option>
                                    <option value="Gold"> Gold
                                    </option>
                                    <option value="Ultimate"> Ultimate
                                    </option>
                                </select>
                            </label>
                        </form>
                    </td>

                    <td id="purchase_button_td"><button id="purchase_button" type="submit"> Purchase </button></td>
                </tr>
            </table>

            <h2> About this Game </h2>
            <table  id="descriptionGameFull">
                <tr>
                    <td id="beschreibung">
                    </td>
                </tr>
            </table>


            <table id="evaluationfield">
                <tr>
                    <td style="width:fit-content" id="review_account">
                        <span>Account</span>
                    </td>
                    <td>
                        <div class="star-form">
                            <input type="radio" id="rate5" name="rating" value="5" />
                            <label for="rate5" title="5 star"><span class="icon-star">&#9733;</span></label>
                            <input type="radio" id="rate4" name="rating" value="4" />
                            <label for="rate4" title="4 star"><span class="icon-star">&#9733;</span></label>
                            <input type="radio" id="rate3" name="rating" value="3" />
                            <label for="rate3" title="3 star"><span class="icon-star">&#9733;</span></label>
                            <input type="radio" id="rate2" name="rating" value="2" />
                            <label for="rate2" title="2 star"><span class="icon-star">&#9733;</span></label>
                            <input type="radio" id="rate1" name="rating" value="1" />
                            <label for="rate1" title="1 star"><span class="icon-star">&#9733;</span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="4"><label for="evaluationtext"></label><textarea rows="6" id="evaluationtext" placeholder="Your review here..." ></textarea></td>
                </tr>
                <tr>
                    <td style="width:1%"></td>
                    <td style="width:1%"></td>
                    <td style="width:25%"></td>
                    <td id="review_button_td"><button id="review_button" type="submit"> Send </button></td>
                </tr>
            </table>
        </main>

            <footer id="footer">
                <a id="privacy_policy" class=remove_text_decoration href="../html/privacy_policy.html"> Privacy Policy </a>
                <a id="legal" class=remove_text_decoration href="../html/legal.html"> Legal </a>
                <a id="contact" class=remove_text_decoration href="../html/contact.html"> Contact </a>
            </footer>

        <script>

            $(document).ready(function() {
                getHeader();

                console.log('loading specific product');

                // get id from url parameter
                var id = -1;

                if (existsUrlParameter('id'))
                    id = getUrlParameterValue('id');

                console.log('target product id=' + id);

                if (id == -1) {
                    alert('keine id erhalten');
                    return;
                }

                $.ajax({
                    url: 'http://localhost:8000/api/spiele/gib/' + id,
                    method: 'get',
                    contentType: 'application/json; charset=utf-8',
                    cache: false,
                    dataType: 'json'
                }).done(function (response) {
                    console.log(response);

                    /* hier können Sie das Produkt nach eigenen Wünschen rendern und ausgeben. Ich mache es mir einfach und gebe nur einen Teil aus */

                    produktID = response.id;
                    produktName = response.name;
                    produktKlappentext = response.klappentext;
                    produktBeschreibung = response.beschreibung;
                    produktBild = '<img src="../Backend/' + response.cover_pfad + '" alt="' + produktName + '">';

                    $('#name').html(produktName);
                    $('#produktBild').html(produktBild);
                    $('#klappentext').html(produktKlappentext);
                    $('#beschreibung').html(produktBeschreibung);





                }).fail(function (jqXHR, statusText, error) {
                    console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
                    alert('Ein Fehler ist aufgetreten');
                });
            });


        </script>
    </body>
</html>